(this["webpackJsonpdesafio-07"]=this["webpackJsonpdesafio-07"]||[]).push([[0],{32:function(n,e,t){n.exports=t.p+"static/media/income.df4567f0.svg"},33:function(n,e,t){n.exports=t.p+"static/media/outcome.bb31a5f3.svg"},34:function(n,e,t){n.exports=t.p+"static/media/total.7f99c5ac.svg"},39:function(n,e,t){n.exports=t.p+"static/media/logo.ce269cac.svg"},44:function(n,e,t){n.exports=t.p+"static/media/alert.78a343ae.svg"},47:function(n,e,t){n.exports=t(73)},73:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),c=t(31),o=t.n(c),i=t(10),l=t(9),u=t(14),s=t(32),p=t.n(s),m=t(33),f=t.n(m),d=t(34),b=t.n(d),g=t(35),x=t.n(g).a.create({baseURL:"http://localhost:3333"}),E=t(3),v=t(4);function h(){var n=Object(E.a)(["\n  background: #5636d3;\n  padding: 30px 0;\n\n  header {\n    width: 1120px;\n    margin: 0 auto;\n    padding: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    nav {\n      a {\n        color: #fff;\n        text-decoration: none;\n        font-size: 16px;\n        transition: opacity 0.2s;\n\n        & + a {\n          margin-left: 32px;\n        }\n\n        &:hover {\n          opacity: 0.6;\n        }\n      }\n    }\n  }\n"]);return h=function(){return n},n}var j=v.c.div(h(),(function(n){return"small"===n.size?"0 20px ":"0 20px 150px"})),y=t(39),O=t.n(y),w=function(n){var e=n.size,t=void 0===e?"large":e;return(r.a.createElement(j,{size:t},r.a.createElement("header",null,r.a.createElement("img",{src:O.a,alt:"GoFinances"}),r.a.createElement("nav",null,r.a.createElement(i.b,{to:"/"}," Dashboard "),r.a.createElement(i.b,{to:"/import"}," Importar ")))))},z=function(n){return new Intl.DateTimeFormat("pt-BR").format(n)},k=function(n){return Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(n))};function D(){var n=Object(E.a)(["\n  margin-top: 64px;\n\n  table {\n    width: 100%;\n    border-spacing: 0 8px;\n\n    th {\n      color: #969cb3;\n      font-weight: normal;\n      padding: 20px 32px;\n      text-align: left;\n      font-size: 16px;\n      line-height: 24px;\n    }\n\n    td {\n      padding: 20px 32px;\n      border: 0;\n      background: #fff;\n      font-size: 16px;\n      font-weight: normal;\n      color: #969cb3;\n\n      &.title {\n        color: #363f5f;\n      }\n\n      &.income {\n\n        color: #12a454;\n      }\n\n      &.outcome {\n        color: #e83f5b;\n      }\n\n      &.outcome::before {\n        content: '- ';\n        color: inherit;\n      }\n    }\n\n    td:first-child {\n      border-radius: 8px 0 0 8px;\n    }\n\n    td:last-child {\n      border-radius: 0 8px 8px 0;\n    }\n  }\n"]);return D=function(){return n},n}function F(){var n=Object(E.a)(["\n  background: ",";\n  padding: 22px 32px;\n  border-radius: 5px;\n  color: ",";\n\n  header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n      font-size: 16px;\n    }\n  }\n\n  h1 {\n    margin-top: 14px;\n    font-size: 36px;\n    font-weight: normal;\n    line-height: 54px;\n  }\n"]);return F=function(){return n},n}function S(){var n=Object(E.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 32px;\n  margin-top: -150px;\n"]);return S=function(){return n},n}function R(){var n=Object(E.a)(["\n  font-size: 48px;\n  color: #3a3a3a;\n"]);return R=function(){return n},n}function I(){var n=Object(E.a)(["\n  width: 100%;\n  max-width: 1120px;\n  margin: 0 auto;\n  padding: 40px 20px;\n"]);return I=function(){return n},n}var q=v.c.div(I()),A=(v.c.h1(R()),v.c.section(S())),N=v.c.div(F(),(function(n){return n.total?"#FF872C":"#fff"}),(function(n){return n.total?"#fff":"#363F5F"})),P=v.c.section(D()),B=function(){var n=Object(a.useState)([]),e=Object(u.a)(n,2),t=e[0],c=e[1],o=Object(a.useState)({}),i=Object(u.a)(o,2),l=i[0],s=i[1];return Object(a.useEffect)((function(){x.get("transactions").then((function(n){var e=n.data,t=e.balance,a=e.transactions;a.map((function(n){return n.formattedValue=k(n.value),n.formattedDate=z(new Date(n.created_at)),n}));c(a),s(t)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement(q,null,r.a.createElement(A,null,r.a.createElement(N,null,r.a.createElement("header",null,r.a.createElement("p",null,"Entradas"),r.a.createElement("img",{src:p.a,alt:"Income"})),r.a.createElement("h1",{"data-testid":"balance-income"},k(l.income))),r.a.createElement(N,null,r.a.createElement("header",null,r.a.createElement("p",null,"Sa\xeddas"),r.a.createElement("img",{src:f.a,alt:"Outcome"})),r.a.createElement("h1",{"data-testid":"balance-outcome"}," - ",k(l.outcome))),r.a.createElement(N,{total:!0},r.a.createElement("header",null,r.a.createElement("p",null,"Total"),r.a.createElement("img",{src:b.a,alt:"Total"})),r.a.createElement("h1",{"data-testid":"balance-total"},k(l.total)))),r.a.createElement(P,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xedtulo"),r.a.createElement("th",null,"Pre\xe7o"),r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"Data"))),r.a.createElement("tbody",null,t.map((function(n){return r.a.createElement("tr",{key:n.id},r.a.createElement("td",{className:"title"},n.title),r.a.createElement("td",{className:n.type},n.formattedValue),r.a.createElement("td",null,n.category.title),r.a.createElement("td",null,n.formattedDate))})))))))},C=t(18),T=t.n(C),U=t(41),V=t(42),J=t.n(V);function L(){var n=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1;\n\n  button {\n    border: 0;\n    background: transparent;\n    color: #e83f5b;\n    margin-left: 5px;\n    cursor: pointer;\n  }\n\n  div {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    span {\n      font-size: 12px;\n      color: #999;\n      margin-top: 5px;\n    }\n  }\n"]);return L=function(){return n},n}function G(){var n=Object(E.a)(["\n  margin-top: 20px;\n\n  li {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #444;\n\n    & + li {\n      margin-top: 15px;\n    }\n  }\n"]);return G=function(){return n},n}var M=v.c.ul(G()),_=v.c.div(L()),H=function(n){var e=n.files;return(r.a.createElement(M,null,e.map((function(n){return r.a.createElement("li",{key:n.name},r.a.createElement(_,null,r.a.createElement("div",null,r.a.createElement("strong",null,n.name),r.a.createElement("span",null,n.readableSize))))}))))},K=t(46);function Q(){var n=Object(E.a)(["\n  display: flex;\n  font-size: 16px;\n  line-height: 24px;\n  padding: 48px 0;\n\n  color: ",";\n\n  justify-content: center;\n  align-items: center;\n"]);return Q=function(){return n},n}function W(){var n=Object(E.a)(["\n  border: 1.5px dashed #969cb3;\n  border-radius: 5px;\n  cursor: pointer;\n\n  transition: height 0.2s ease;\n\n  ","\n\n  ","\n"]);return W=function(){return n},n}function X(){var n=Object(E.a)(["\n  border-color: #e83f5b;\n"]);return X=function(){return n},n}function Y(){var n=Object(E.a)(["\n  border-color: #12a454;\n"]);return Y=function(){return n},n}var Z=Object(v.b)(Y()),$=Object(v.b)(X()),nn=v.c.div.attrs({className:"dropzone"})(W(),(function(n){return n.isDragActive&&Z}),(function(n){return n.isDragReject&&$})),en={default:"#5636D3",error:"#e83f5b",success:"#12a454"},tn=v.c.p(Q(),(function(n){var e=n.type;return en[e||"default"]})),an=function(n){var e=n.onUpload;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{accept:".csv, application/vnd.ms-excel, text/csv",onDropAccepted:function(n){return e(n)}},(function(n){var e=n.getRootProps,t=n.getInputProps,a=n.isDragActive,c=n.isDragReject;return(r.a.createElement(nn,Object.assign({},e(),{isDragActive:a,isDragReject:c}),r.a.createElement("input",Object.assign({},t(),{"data-testid":"upload"})),function(n,e){return n?e?r.a.createElement(tn,{type:"error"},"Arquivo n\xe3o suportado"):r.a.createElement(tn,{type:"success"},"Solte o arquivo aqui"):r.a.createElement(tn,null,"Selecione ou arraste o arquivo aqui.")}(a,c)))})))},rn=t(45);function cn(){var n=Object(E.a)(["\n  margin-top: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  p {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    line-height: 18px;\n    color: #969cb3;\n\n    img {\n      margin-right: 5px;\n    }\n  }\n\n  button {\n    background: #ff872c;\n    color: #fff;\n    border-radius: 5px;\n    padding: 15px 80px;\n    border: 0;\n    transition: background-color 0.2s;\n\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return cn=function(){return n},n}function on(){var n=Object(E.a)(["\n  background: #fff;\n  margin-top: 40px;\n  border-radius: 5px;\n  padding: 64px;\n"]);return on=function(){return n},n}function ln(){var n=Object(E.a)(["\n  font-weight: 500;\n  font-size: 36px;\n  line-height: 54px;\n  color: #363f5f;\n  text-align: center;\n"]);return ln=function(){return n},n}function un(){var n=Object(E.a)(["\n  width: 100%;\n  max-width: 736px;\n  margin: 0 auto;\n  padding: 40px 20px;\n"]);return un=function(){return n},n}var sn=v.c.div(un()),pn=v.c.h1(ln()),mn=v.c.section(on()),fn=v.c.section(cn(),Object(rn.a)(.2,"#ff872c")),dn=t(44),bn=t.n(dn),gn=function(){var n=Object(a.useState)([]),e=Object(u.a)(n,2),t=e[0],c=e[1],o=Object(l.f)();function i(){return(i=Object(U.a)(T.a.mark((function n(){var e;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new FormData,n.prev=1,t.forEach((function(n){var t=n.file;e.append("file",t)})),n.next=5,x.post("/transactions/import",e);case 5:o.push("/"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0.response.error);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{size:"small"}),r.a.createElement(sn,null,r.a.createElement(pn,null,"Importar uma transa\xe7\xe3o"),r.a.createElement(mn,null,r.a.createElement(an,{onUpload:function(n){var e=n.map((function(n){return{file:n,name:n.name,readableSize:J()(n.size)}}));c(e)}}),!!t.length&&r.a.createElement(H,{files:t}),r.a.createElement(fn,null,r.a.createElement("p",null,r.a.createElement("img",{src:bn.a,alt:"Alert"}),"Permitido apenas arquivos CSV"),r.a.createElement("button",{onClick:function(){return i.apply(this,arguments)},type:"button"},"Enviar")))))},xn=function(){return r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:B}),r.a.createElement(l.a,{path:"/import",component:gn}))};function En(){var n=Object(E.a)(['\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #F0F2F5 ;\n    -webkit-font-smoothing: antialiased\n  }\n\n  body, input, button {\n    font: 16px "Poppins", sans-serif;\n  }\n\n  button {\n    cursor: pointer;\n  }\n']);return En=function(){return n},n}var vn=Object(v.a)(En()),hn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vn,null),r.a.createElement(i.a,null,r.a.createElement(xn,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(hn,null)),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.dabb283b.chunk.js.map